1.Circuit Breaker									(aneesh kumar)		  		 [24-DEC-2025]  (Done)
2.Resilience4j										(Umesh Kumar Yadav)		     [24-DEC-2025]  ()	
3.Circuit Breaker									(Umesh Kumar Yadav)		     [24-DEC-2025]  ()	
4.Circuit Breaker									(PraveenCodes)		         [24-DEC-2025]  ()	
5.Circuit Breaker									(The Latency Gambler)		 [24-DEC-2025]  ()



############################################################### 1.Circuit Breaker (aneesh kumar) ###############################################################

In Microservices, one service often depends on another service.
For example Order Service calling a Payment Service.
But what happens if the Payment Service is down or slow.
Without circuit breaker Order Service keeps sending requests, piling up failures, slowing down threads, and making the whole system unstable.
With circuit breaker Order Service detects failure, opens the circuit and stops calling the Payment Service for a while.
Instead it returns a fallback response.

Circuit Breaker prevents the microservice from repeatedly calling a failing downstream service.
This ensures that no additional calls are made to the failing service once the Circuit Breaker is open and return an exception immediately.
This also monitors the system for failures and once things are normal the Circuit is closed to perform normal functionality.
Most popular third party libraries to implement Circuit Breaker Pattern are Polly, Hystrix and Resilience4j.

Circuit Breaker States :
------------------------
Closed : Everything works fine and requests go through.
Open : Too many failures then stop sending requests.
Half-Open : Test with the limited requests.

	@Service
	public class OrderService {

		private final RestTemplate restTemplate;

		public OrderService(RestTemplateBuilder builder) {
			this.restTemplate = builder.build();
		}

		@CircuitBreaker(name = "paymentService", fallbackMethod = "paymentFallback")
		public String placeOrder() {
			return restTemplate.getForObject("http://localhost:8081/pay", String.class);
		}

		public String paymentFallback(Throwable t) {
			return "Payment service is currently unavailable. Please try again later.";
		}
	}
	
	resilience4j:
		circuitbreaker:
		instances:
		  paymentService:
			registerHealthIndicator: true
			slidingWindowSize: 5
			failureRateThreshold: 50
			waitDurationInOpenState: 10s
			permittedNumberOfCallsInHalfOpenState: 3
			
slidingWindowSize: 5 means looks at the last 5 calls.
failureRateThreshold: 50 means if 50% of calls fail then the breaker opens.
waitDurationInOpenState: 10s means Circuit breaker stays open for 10 seconds before trying again.
permittedNumberOfCallsInHalfOpenState: 3 means test phase where few calls are allowed to see if the service has recovered.