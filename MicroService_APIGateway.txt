1.API Gateway 										(Dineshchandgr,DefogTech)		[11-DEC-2025]  (Done)



Before Gateway – focus on:
DNS, load balancing, global routing
CDN, edge caching
WAF, edge rate limiting
OAuth2/OIDC flows, IdP, token issuance
Client app patterns & BFF concept

At Gateway – focus on:
API Facade, API Management
Path/host routing
Auth offloading (token validation)
Rate limiting, quotas, CORS, transformation
Basic resilience (timeouts, retries, simple CB/bulkhead)

After Gateway – focus on:
Service discovery, K8s Services, service mesh
BFF / Aggregator / Composite services
DDD, hexagonal architecture in microservices
Circuit breaker, bulkhead, retry, timeout (code-level)
Sagas (orchestration/choreography), compensating transactions
DB-per-service, outbox, CQRS, event sourcing
Anti-corruption layer for legacy
Messaging & event-driven patterns
Observability: correlation IDs, distributed tracing

################################################################# 1.API Gateway ##################################################################################

The crux of Microservices Architecture is to build independent, loosely-coupled services that can be developed, deployed and scaled independently.
In an Enterprise systems where 50–100 plus microservices exists.
Directly exposing every service to the front-end creates excessive coupling, operational complexity, and security risk.
From a UI perspective, calling dozens of microservices individually means forces the client to manage service URLs, ports, endpoints, versions and retries.
Resulting this in a fragile client code and high maintenance overhead.

Additionally, each microservice would need to independently implement cross-cutting concerns,leading to duplicated code, inconsistent policies, and complex maintenance. 
Such as 
CORS
authentication 
authorization
security
monitoring 
logging 


To solve this, modern architectures introduce a single entry point — API Gateway.
The API Gateway is a server that handles many functionalities in a single place for the clients to interact.

The gateway centralizes all common concerns and handles 
routing 
security enforcement
rate limiting
resilience patterns (circuit breaker / bulkhead)
request aggregation and 
observability.

Clients communicate only with the API Gateway, while the API Gateway orchestrates the calls to internal microservices.
This keeps UI concerns simple, backend services focused on business logic, and the whole platform more secure, observable, and maintainable.
It also works as a reverse proxy between your client applications and the back-end microservices architecture

Across all microservices, the same technical concerns occur repeatedly.
Routing
Authentication
Authorization
CORS
Rate Limiting
Circuit Breaker
Bulkheading
Request Aggregation
Load Balancing
SSL/TLS termination
Monitoring Hooks
Observability
Monitoring
Request validation
Security
Logging
Caching

Single entry point for clients
Routing to services
Rate limiting, throttling
Circuit breaker / bulkhead / timeout / retry (can be here or inside services)
Request/response transformation, header manipulation

Consider the scenario of ecommerce Application.
For that we have created a Web Application which has the URL's.

/home
/products
/my-cart/get
/my-cart/add

/home will give the static HTML and JS files to see the Home page.
/products which will give the list of all the products in the form of JSON.
/my-cart/get and /my-cart/add If the user is logged-in, then user can make the request for getting the cart and adding items to the cart.

We have Clients which come from multiple device types, either Mobile or Desktop and they will make the request to the URL's.
If the request is for /home and /products, even if the user is not logged-in, we want to send the data back to the user.
If the user requests for any of the operation related to shopping cart, user should be logged-in i.e. user should be authenticated.

For some cases user should be autorized to add the items or delete the items. In this case authorization is required.
To make the web application secure, we want to have HTTPS in our Application.
For that we need to add the SSL certificates to the Application.

Now in the Web Application, we have Auhentication, Authorization and Security along with the business logic.
Separte these concepts in another Component which is nothing but Gateway Component.
API Gateway acts as an entry point for API's.
Client makes the request to the API Gateway,API Gateway will ensure request are HTTPS using SSL Certificates, ensure user is Authenticated and Authorized,
then request will be forwarded to Web Application.

Routing :
---------
If there is any URL starts with /home it should navigate to Home Micro service.
Similarly any url starts with /products, then it should navigate to Product Micro service.
API Gateway decides based on the path, it routes the request to different services.
If the request is from Mobile, forward the request to Mobie Service.

Adaptor :
---------
Adaptor can be used to reduce the number of network calls to the Web Application.

Static Content :
----------------
We can have the Component within the API Gateway to hold the static Components.

Cache :
-------
API Gateay can also have a Cache to send the repeated response.
Instead of calling the API multiple times, get the data from Cache.

Load Balancer :
---------------
Based on the Load Balancer Algorithm, forward the request to other service.

Protocol Adaptor :
------------------
API Gateway takes the responsibility of converting the new protocol to old protocol.









